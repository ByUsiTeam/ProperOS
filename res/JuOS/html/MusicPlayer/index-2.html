<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="full-screen" content="yes">
    <meta name="browsermode" content="application">
    <meta name="x5-fullscreen" content="true">
    <meta name="x5-page-mode" content="app">
    <meta name="renderer" content="webkit">
    <title>音乐播放器</title>
    <!-- 国内 CDN -->
    <link rel="stylesheet" href="./APlayer.min.css">
    <link rel="stylesheet" href="./bootstrap.min.css">
    <link rel="stylesheet" href="./jcupupw.css">
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f5f5f5;
            color: #333;
        }
        .music-player-container {
            max-width: 600px;
            margin: 50px auto;
            background: #fff;
            padding: 20px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
        }
        .aplayer {
            border-radius: 10px;
            overflow: hidden;
        }
        .controls {
            text-align: center;
            margin-top: 15px;
        }
        .controls a {
            margin: 0 5px;
        }
    </style>
</head>
<body>
    <div id="jcModal" class="jc-modal" aria-hidden="true" role="dialog">
        <div class="jc-modal__overlay"></div>
        <div class="jc-modal__container">
            <button class="jc-modal__close" aria-label="关闭弹窗">&times;</button>
            <h2 class="jc-modal__title" id="modalTitle">默认标题</h2>
            <div class="jc-modal__content" id="modalContent">默认内容</div>
            <div class="jc-modal__loading">
                <div class="jc-spinner"></div>
            </div>
            <div class="jc-modal__actions" id="modalButtons"></div>
        </div>
    </div>

    <div class="music-player-container">
        <div id="aplayer"></div>
        <div class="controls">
            <a href="javascript:void(0)" class="btn btn-primary jc-modal-trigger"
            data-modal-title="JCuPupw弹窗 菜单"
            data-modal-content="确定弹出音乐文件的直接链吗？<br>路径是：<br>{music}"
            data-modal-buttons='[
                {"text": "弹出路径", "action": "go"},
                {"text": "取消", "action": "handleCancel"}
            ]'>菜单</a>

    <script src="./APlayer.min.js"></script>
    <script src="./jcupupw.js"></script>

    <script>
        // 初始化 APlayer
        const ap = new APlayer({
            container: document.getElementById('aplayer'),
            audio: [
                {
                    name: '{name}',
                    artist: 'not-have',
                    url: '{music}',
                    cover: 'MusicPlayer.png'
                }
            ],
            theme: '#b7daff',
            autoplay: false,
            volume: 1.0,
            loop: 'all',
            preload: 'auto',
            mutex: true
        });

        // 自定义路径按钮功能
        function go() {
            iapp.fn('tw.tw("{music}")');
        }

        function handleCancel() {
            console.log('取消按钮点击');
        }
    </script>
</body>
</html>